(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2704],{4302:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/registros/listaRecursos",function(){return t(85821)}])},61914:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var o=t(24246),r=(t(27378),t(30985)),i=t(74246),c=t(27492),s=t(63115),a=t(7863);function l(e){var n=(0,a.jg)([e.registro],e.campos,["id"])[0];return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(i.Z,{children:(0,o.jsx)(c.Z,{children:e.tituloDisplay})}),(0,o.jsx)("hr",{}),(0,o.jsx)(i.Z,{children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(s.Z,{hover:!0,dark:!0,responsive:!0,children:(0,o.jsx)("tbody",{children:e.nombresCampos.map((function(e,t){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:e}),(0,o.jsx)("td",{children:n.data[t]})]})}))})})})})]})}},59622:function(e,n,t){"use strict";t.d(n,{Z:function(){return O}});var o=t(24246),r=t(27378),i=t(8208),c=t(11355),s=t(26508),a=t(70870),l=t(80311),u=t(96129),d=t(23615),f=t.n(d),g=t(60042),h=t.n(g),p=t(75133),x=["className","cssModule","tag"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},j.apply(this,arguments)}function Z(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var m={className:f().string,cssModule:f().object,tag:p.iC};function v(e){var n=e.className,t=e.cssModule,o=e.tag,i=void 0===o?"div":o,c=Z(e,x),s=(0,p.mx)(h()(n,"card-footer"),t);return r.createElement(i,j({},c,{className:s}))}v.propTypes=m;var b=v,R=t(30985),y=t(74246),M=t(27492),C=t(35979);function O(e){return(0,o.jsx)(i.Z,{isOpen:e.modalActivo,toggle:function(){e.toggleModal()},children:(0,o.jsxs)(c.Z,{className:"cardModalAlerta",color:"danger",children:[(0,o.jsx)(s.Z,{children:"Eliminar Registro"}),(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(l.Z,{className:"tituloModalAlerta",children:["\xbfEstas seguro de que deseas eliminar el registro con id ",e.idRegistro,"?"]}),(0,o.jsx)("br",{}),e.children,(0,o.jsx)("br",{}),(0,o.jsx)(u.Z,{children:"Se removera el registro de manera permanente y no habra forma de recuperarlo al finalizar la operaci\xf3n."})]}),(0,o.jsx)(b,{children:(0,o.jsx)(R.Z,{children:(0,o.jsxs)(y.Z,{children:[(0,o.jsx)(M.Z,{children:(0,o.jsx)(C.Z,{active:!0,outline:!0,block:!0,color:"primary",onClick:function(){"undefined"!=typeof e.onRechazar&&e.onRechazar(),e.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(M.Z,{children:(0,o.jsx)(C.Z,{active:!0,outline:!0,block:!0,onClick:function(){e.onOk(e.idRegistro),e.toggleModal()},children:"Aceptar"})})]})})})]})})}},15174:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var o=t(24246),r=(t(27378),t(8208)),i=t(11355),c=t(26508),s=t(70870),a=t(80311);function l(e){return(0,o.jsx)(r.Z,{isOpen:e.modalActivo,toggle:function(){e.toggleModal()},children:(0,o.jsxs)(i.Z,{className:"cardModalAlerta",color:"dark",children:[(0,o.jsx)(c.Z,{children:"Agregar Registro"}),(0,o.jsxs)(s.Z,{children:[(0,o.jsxs)(a.Z,{className:"tituloModalOpcionesTabla",children:["Agregar registro de ",e.nombreTabla]}),e.children]})]})})}},38718:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var o=t(24246),r=(t(27378),t(8208)),i=t(11355),c=t(26508),s=t(70870),a=t(80311);function l(e){return(0,o.jsx)(r.Z,{isOpen:e.modalActivo,toggle:function(){e.toggleModal()},children:(0,o.jsxs)(i.Z,{className:"cardModalAlerta",color:"dark",children:[(0,o.jsx)(c.Z,{children:"Modificar Registro"}),(0,o.jsxs)(s.Z,{children:[(0,o.jsxs)(a.Z,{className:"tituloModalOpcionesTabla",children:["Modifica el registro con id ",e.idRegistro]}),e.children]})]})})}},86480:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var o=t(2706),r=t(24246),i=t(27378),c=t(11355),s=t(26508),a=t(30985),l=t(74246),u=t(27492),d=t(70870),f=t(80311),g=t(63115),h=t(66444),p=t(16427);function x(e){var n=(0,o.Z)(i.useState(!1),2),t=n[0],x=n[1],j=(0,o.Z)(i.useState(!1),2),Z=j[0],m=j[1],v={display:e.enCarga?"none":""},b={display:e.enCarga?"":"none"};return(0,r.jsxs)(c.Z,{color:"dark",children:[(0,r.jsx)(s.Z,{className:"text-white",children:(0,r.jsx)(a.Z,{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{children:e.tituloTabla}),(0,r.jsx)(u.Z,{style:{textAlign:"right"},children:(0,p.cr)((function(){m(!Z)}),(function(){x(!t)}),(function(){e.setEnCarga(!e.enCarga)}),e.funcionesOpciones,e.opcionesTabla)})]})})}),(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(f.Z,{children:e.children}),(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(l.Z,{style:v,children:[(0,r.jsxs)(g.Z,{hover:!0,dark:!0,responsive:!0,children:[(0,r.jsx)("thead",{className:"cabeceraTablaRegistros",children:(0,r.jsxs)("tr",{children:[(0,p.R3)(e.cabeceras),(0,p.FY)(e.funcionesRegistros,e.opcionesTabla)]},"header")}),(0,r.jsx)("tbody",{children:(0,p.oC)(e.cabeceras,e.registros,e.formatoEspecial,e.opcionesTabla,e.funcionesRegistros)})]}),(0,p.DY)(e.paginacion)]}),(0,r.jsxs)(l.Z,{style:b,children:[(0,r.jsx)(u.Z,{}),(0,r.jsx)(u.Z,{xs:"auto",children:(0,r.jsx)(h.Z,{color:"warning",style:{height:"100px",width:"100px"}})}),(0,r.jsx)(u.Z,{})]})]})]}),(0,p.LN)(e.tituloTabla,t,(function(){x(!t)}),e.opcionesTabla,e.funcionesOpciones),(0,p.W3)(e.tituloTabla,Z,(function(){m(!Z)}),e.exportarDatos)]})}},85821:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var o=t(24246),r=(t(48697),t(27378)),i=t(30985),c=t(74246),s=t(27492),a=t(6947),l=t(2706),u=t(43532),d=t(43636),f=t(51838),g=t(10798),h=t(35979);function p(e){return(0,o.jsxs)(u.Z,{onSubmit:function(n){n.preventDefault(),e.onModificarRegistro(n,e.registro.id),e.toggleModal()},children:[(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(f.Z,{for:"imagenEmpleado",children:"Foto del empleado"}),(0,o.jsx)(g.Z,{id:"imagenEmpleado",name:"file",type:"file"})]}),(0,o.jsx)("br",{}),(0,o.jsx)(i.Z,{children:(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(s.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){e.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(s.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}function x(e){return(0,o.jsxs)(u.Z,{onSubmit:function(n){n.preventDefault(),e.onGuardarRegistro(n),e.toggleModal()},children:[(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(f.Z,{for:"imagenEmpleado",children:"Foto del empleado"}),(0,o.jsx)(g.Z,{id:"imagenEmpleado",name:"file",type:"file"})]}),(0,o.jsx)("br",{}),(0,o.jsx)(i.Z,{children:(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(s.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){e.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(s.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}var j=t(38718);function Z(e){return(0,o.jsx)(i.Z,{children:(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(s.Z,{children:(0,o.jsx)(g.Z,{id:"idRecruso",placeholder:"ID del recurso",type:"text",onChange:function(n){var t=null;n.target.value&&(t=parseInt(n.target.value)),e.parametrosBusqueda.setIdRecurso(t)}})}),(0,o.jsx)(s.Z,{children:(0,o.jsx)(g.Z,{id:"tipoRecurso",placeholder:"Tipo de recurso",type:"text",onChange:function(n){e.parametrosBusqueda.setTipoRecurso(n.target.value)}})}),(0,o.jsx)(s.Z,{children:(0,o.jsx)(g.Z,{id:"nombreRecurso",placeholder:"Nombre del recurso",type:"text",onChange:function(n){e.parametrosBusqueda.setNombreRecurso(n.target.value)}})})]})})}var m=t(15174),v=t(59622),b=t(61914),R=t(86480),y=t(7863),M=t(94474),C=function(e){return(0,y.jg)(e,[["id"],["tipo"],["nombre"],["fechaRegistroRecurso"],["fechaModificacionRecurso"]],["id","indexRegistro"])};function O(e){var n=(0,l.Z)(r.useState(!1),2),t=n[0],i=n[1],c=(0,l.Z)(r.useState([]),2),s=c[0],a=c[1],u=(0,l.Z)(r.useState(0),2),d=u[0],f=u[1],g=(0,l.Z)(r.useState(1),2),h=g[0],O=g[1],S=(0,l.Z)(r.useState(1),2),T=S[0],E=S[1],N=(0,l.Z)(r.useState(void 0),2),k=N[0],A=N[1],_=(0,l.Z)(r.useState(void 0),2),w=_[0],D=_[1],F=(0,l.Z)(r.useState(void 0),2),I=F[0],P=F[1],U=(0,l.Z)(r.useState(12),2),q=U[0],B=U[1],L=(0,l.Z)(r.useState(!1),2),z=L[0],G=L[1],V=(0,l.Z)(r.useState(!0),2),W=V[0],X=V[1],Y=(0,l.Z)(r.useState(!1),2),$=Y[0],H=Y[1],J=(0,l.Z)(r.useState(!1),2),K=J[0],Q=J[1],ee=(0,l.Z)(r.useState(!1),2),ne=ee[0],te=ee[1],oe=(0,l.Z)(r.useState(void 0),2),re=oe[0],ie=oe[1],ce=(0,l.Z)(r.useState(void 0),2),se=ce[0],ae=ce[1];r.useEffect((function(){console.log("refresh"),function(e,n,t,o){(0,M.FV)((function(t){e(t.registros),n(Math.ceil(t.totalRegistros/o.limit))}),o,(function(e){console.log(e),t(!1)}),(function(){e([]),t(!0)}),(function(){t(!1)}))}(a,O,i,{limit:q,offset:d,id:k,tipo:w,nombre:I})}),[q,T,k,w,I,W]);var le="Tabla de Recursos",ue=["ID","Tipo de recurso","Nombre de recurso","Fecha de registro","Ultima modificacion"],de={onEliminar:function(e,n){ie(e),ae(s[n]),H(!$)},onModificar:function(e,n){ie(e),ae(s[n]),Q(!K)}},fe={registrosPorPagina:q,opcionesRegistros:z,guardarConfiguracion:function(e){B(e.target[0].value?parseInt(e.target[0].value):0),G(e.target[1].checked),E(1),f(0)}},ge={onAgregarRegistro:function(){te(!ne)},onRefrescarTabla:function(){X(!W)},onExportarDatos:function(){console.log("datos exportados")},onCambiarConfiguracion:function(){console.log("configuracion cambiada")}},he={paginaActual:T,offset:d,registrosPorPagina:q,totalPaginas:h,setPaginaActual:E,setOffset:f},pe={setIdRecurso:A,setTipoRecurso:D,setNombreRecurso:P};return(0,o.jsxs)(R.Z,{tituloTabla:le,cabeceras:ue,registros:C(s),enCarga:t,setEnCarga:i,exportarDatos:function(e,n){!function(e,n,t,o){e?(0,y.R$)(n,t,C):(0,M.FV)((function(e){(0,y.R$)(e.registros,t,C)}),{},(function(e){console.log(e),o(!1)}))}(e,n,ue,i)},formatoEspecial:{"Fecha de registro":function(e){return e?e.replace("T"," ").slice(0,19):""},"Ultima modificacion":function(e){return e?e.replace("T"," ").slice(0,19):""}},funcionesOpciones:ge,opcionesTabla:fe,funcionesRegistros:de,paginacion:he,children:[(0,o.jsx)(m.Z,{nombreTabla:le,modalActivo:ne,toggleModal:function(){te(!ne)},children:(0,o.jsx)(x,{toggleModal:function(){te(!ne)},onGuardarRegistro:function(e){!function(e,n,t){var o=new FormData;o.append("file",e.target[0].files[0]),(0,M.gW)(o,void 0,(function(e){console.log(e)}),void 0,(function(){t(!n)}))}(e,W,X)}})}),(0,o.jsx)(j.Z,{idRegistro:re,modalActivo:K,toggleModal:function(){Q(!K)},children:(0,o.jsx)(p,{registro:se,onModificarRegistro:function(e,n){!function(e,n,t,o){var r=new FormData;r.append("file",e.target[0].files[0]),(0,M.fs)(n,r,void 0,(function(e){console.log(e)}),void 0,(function(){o(!t)}))}(e,n,W,X)},toggleModal:function(){Q(!K)}})}),(0,o.jsx)(v.Z,{idRegistro:re,modalActivo:$,toggleModal:function(){H(!$)},onOk:function(e){!function(e,n,t){(0,M.i7)(e,void 0,(function(e){console.log(e)}),void 0,(function(){t(!n)}))}(e,W,X)},children:(0,o.jsx)(b.Z,{tituloDisplay:"nose",registro:se,campos:[["id"],["tipo"],["nombre"],["fechaRegistroRecurso"]],nombresCampos:["id","tipo de recurso","nombre del recurso","fecha de registro"]})}),(0,o.jsx)(Z,{parametrosBusqueda:pe})]})}function S(){return(0,o.jsx)(r.Fragment,{children:(0,o.jsx)(i.Z,{fluid:!0,children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(s.Z,{children:(0,o.jsx)(O,{})})})})})}S.getLayout=function(e){return(0,o.jsx)(a.Z,{children:e})}},94474:function(e,n,t){"use strict";t.d(n,{FV:function(){return u},fs:function(){return f},gW:function(){return d},i7:function(){return g}});var o=t(29132),r=t(85556),i=t(89458),c=function(){var e=(0,o.Z)((function(e){return(0,r.__generator)(this,(function(n){return[2,i.b.RECURSO.CONSULTA(e)]}))}));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,o.Z)((function(e){return(0,r.__generator)(this,(function(n){return[2,i.b.RECURSO.REGISTRAR(e)]}))}));return function(n){return e.apply(this,arguments)}}(),a=function(){var e=(0,o.Z)((function(e,n){return(0,r.__generator)(this,(function(t){return[2,i.b.RECURSO.MODIFICAR(e,n)]}))}));return function(n,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.Z)((function(e){return(0,r.__generator)(this,(function(n){return[2,i.b.RECURSO.ELIMINAR(e)]}))}));return function(n){return e.apply(this,arguments)}}();function u(e,n,t,o,r){"undefined"!=typeof o&&o(),c(n).then((function(n){e(n.data)})).catch((function(e){"undefined"!=typeof t&&t(e)})).finally((function(){"undefined"!=typeof r&&r()}))}function d(e,n,t,o,r){"undefined"!=typeof o&&o(),s(e).then((function(e){"undefined"!=typeof n&&n(e.data)})).catch((function(e){"undefined"!=typeof t&&t(e)})).finally((function(){"undefined"!=typeof r&&r()}))}function f(e,n,t,o,r,i){var c={id:e};"undefined"!=typeof r&&r(),a(c,n).then((function(e){"undefined"!=typeof t&&t(e.data)})).catch((function(e){"undefined"!=typeof o&&o(e)})).finally((function(){"undefined"!=typeof i&&i()}))}function g(e,n,t,o,r){var i={id:e};"undefined"!=typeof o&&o(),l(i).then((function(e){"undefined"!=typeof n&&n(e.data)})).catch((function(e){"undefined"!=typeof t&&t(e)})).finally((function(){"undefined"!=typeof r&&r()}))}}},function(e){e.O(0,[9080,9556,7815,1798,2234,6062,6399,8023,924,5573,9774,2888,179],(function(){return n=4302,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
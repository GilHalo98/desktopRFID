(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4387],{60811:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/registros/listaReportes",function(){return o(91086)}])},91086:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return O}});var t=o(24246),i=(o(48697),o(27378)),r=o(30985),c=o(74246),a=o(27492),u=o(6947),s=o(2706),d=o(43532),l=o(43636),f=o(51838),p=o(10798),g=o(35979);function h(e){return(0,t.jsxs)(d.Z,{onSubmit:function(n){n.preventDefault(),e.onModificarRegistro(n,e.registro.id),e.toggleModal()},children:[(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(f.Z,{for:"descripcionReporte",children:"Descripcion del reporte"}),(0,t.jsx)(p.Z,{id:"descripcionReporte",name:"campodescripcionReporte",type:"text",defaultValue:e.registro.descripcionReporte})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(f.Z,{for:"tipoReporteVinculado",children:"Tipo de reporte"}),(0,t.jsx)(p.Z,{id:"tipoReporteVinculado",type:"select",defaultValue:e.registro.idTipoReporteVinculado,children:e.elementosOpciones.map((function(e){return(0,t.jsx)("option",{value:e.id,children:e.descripcionTipoReporte})}))})]}),(0,t.jsx)(r.Z,{children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(a.Z,{children:(0,t.jsx)(g.Z,{active:!0,outline:!0,block:!0,onClick:function(){e.toggleModal()},children:"Cancelar"})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(g.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Guardar Cambios"})})]})})]})}function R(e){return(0,t.jsxs)(d.Z,{onSubmit:function(n){n.preventDefault(),n.preventDefault(),e.onGuardarRegistro(n),e.toggleModal()},children:[(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(f.Z,{for:"descripcionReporte",children:"Descripcion del reporte"}),(0,t.jsx)(p.Z,{id:"descripcionReporte",name:"campodescripcionReporte",type:"text"})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(f.Z,{for:"tipoReporteVinculado",children:"Tipo de reporte"}),(0,t.jsx)(p.Z,{id:"tipoReporteVinculado",type:"select",children:e.elementosOpciones.map((function(e){return(0,t.jsx)("option",{value:e.id,children:e.descripcionTipoReporte})}))})]}),(0,t.jsx)(r.Z,{children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(a.Z,{children:(0,t.jsx)(g.Z,{active:!0,outline:!0,block:!0,onClick:function(){e.toggleModal()},children:"Cancelar"})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(g.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}var Z=o(38718),x=o(15174),v=o(59622);function j(e){var n=(0,s.Z)(i.useState(""),2),o=n[0],u=n[1];return i.useEffect((function(){e.parametrosBusqueda.setIdTipoReporte(o)}),[o]),(0,t.jsxs)(r.Z,{children:[(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(a.Z,{children:(0,t.jsx)(p.Z,{id:"idReporte",placeholder:"ID del reporte",type:"text",onChange:function(n){var o=null;n.target.value&&(o=parseInt(n.target.value)),e.parametrosBusqueda.setIdReporte(o)}})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(p.Z,{id:"descripcionReporte",placeholder:"Descripcion del reporte",type:"text",onChange:function(n){var o=null;n.target.value&&(o=n.target.value),e.parametrosBusqueda.setDescripcionReporte(o)}})})]}),(0,t.jsx)("br",{}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(a.Z,{children:(0,t.jsxs)(p.Z,{id:"idTipoReporte",type:"select",value:o,onChange:function(e){u(e.target.value)},children:[(0,t.jsx)("option",{value:"",children:"Todos los tipos de reportes"}),e.elementosOpciones.map((function(e){return(0,t.jsx)("option",{value:e.id,children:e.descripcionTipoReporte})}))]})})})]})}var m=o(61914),T=o(86480),y=o(7863),S=o(35698),b=o(4186),_=function(e){return(0,y.jg)(e,[["id"],["descripcionReporte"],["idTipoReporteVinculado"],["fechaRegistroReporte"],["fechaModificacionReporte"]],["id","indexRegistro"])};function E(e){var n=(0,s.Z)(i.useState(!1),2),o=n[0],r=n[1],c=(0,s.Z)(i.useState([]),2),a=c[0],u=c[1],d=(0,s.Z)(i.useState(1),2),l=d[0],f=d[1],p=(0,s.Z)(i.useState(1),2),g=p[0],E=p[1],O=(0,s.Z)(i.useState(0),2),D=O[0],C=O[1],I=(0,s.Z)(i.useState(void 0),2),M=I[0],P=I[1],k=(0,s.Z)(i.useState(void 0),2),V=k[0],A=k[1],w=(0,s.Z)(i.useState(void 0),2),N=w[0],F=w[1],q=(0,s.Z)(i.useState(12),2),B=q[0],G=q[1],U=(0,s.Z)(i.useState(!1),2),z=U[0],L=U[1],X=(0,s.Z)(i.useState(!0),2),K=X[0],$=X[1],H=(0,s.Z)(i.useState(!1),2),J=(H[0],H[1],(0,s.Z)(i.useState(!1),2)),Q=J[0],W=J[1],Y=(0,s.Z)(i.useState(!1),2),ee=Y[0],ne=Y[1],oe=(0,s.Z)(i.useState(!1),2),te=oe[0],ie=oe[1],re=(0,s.Z)(i.useState(void 0),2),ce=re[0],ae=re[1],ue=(0,s.Z)(i.useState(void 0),2),se=ue[0],de=ue[1],le=(0,s.Z)(i.useState([]),2),fe=le[0],pe=le[1];i.useEffect((function(){console.log("refresh"),function(e,n,o,t){(0,b.Sz)((function(o){e(o.registros),n(Math.ceil(o.totalRegistros/t.limit))}),t,(function(e){console.log(e),o(!1)}),(function(){e([]),o(!0)}),void 0)}(u,f,r,{limit:B,offset:D,id:N,descripcionReporte:M,idTipoReporteVinculado:V}),function(e,n){(0,S.uK)((function(n){e(n.registros)}),void 0,(function(e){console.log(e),n(!1)}),(function(){e([]),n(!0)}),(function(){n(!1)}))}(pe,r)}),[B,g,N,M,V,K]);var ge="Tabla de Reportes",he=["ID","Descripcion","Tipo de reporte","Fecha de registro","Ultima modificacion"],Re={onEliminar:function(e,n){ae(e),de(a[n]),ne(!ee)},onModificar:function(e,n){ae(e),de(a[n]),W(!Q)}},Ze={registrosPorPagina:B,opcionesRegistros:z,guardarConfiguracion:function(e){G(e.target[0].value?parseInt(e.target[0].value):0),L(e.target[1].checked),E(1),C(0)}},xe={onAgregarRegistro:function(){ie(!te)},onRefrescarTabla:function(){$(!K)},onExportarDatos:function(){console.log("datos exportados")},onCambiarConfiguracion:function(){console.log("configuracion cambiada")}},ve={paginaActual:g,offset:D,registrosPorPagina:B,totalPaginas:l,setPaginaActual:E,setOffset:C},je={setIdReporte:F,setDescripcionReporte:P,setIdTipoReporte:A};return(0,t.jsxs)(T.Z,{tituloTabla:ge,cabeceras:he,registros:_(a),enCarga:o,setEnCarga:r,exportarDatos:function(e,n){!function(e,n,o,t){e?(0,y.R$)(n,o,_):(0,b.Sz)((function(e){(0,y.R$)(e.registros,o,_)}),{},(function(e){console.log(e),t(!1)}))}(e,n,he,r)},formatoEspecial:{"Fecha de registro":function(e){return e?e.replace("T"," ").slice(0,19):""},"Ultima modificacion":function(e){return e?e.replace("T"," ").slice(0,19):""}},funcionesOpciones:xe,opcionesTabla:Ze,funcionesRegistros:Re,paginacion:ve,children:[(0,t.jsx)(x.Z,{nombreTabla:ge,modalActivo:te,toggleModal:function(){ie(!te)},children:(0,t.jsx)(R,{elementosOpciones:fe,toggleModal:function(){ie(!te)},onGuardarRegistro:function(e,n){!function(e,n,o,t){var i=new FormData;i.append("descripcionReporte",e.target[0].value),i.append("idTipoReporteVinculado",e.target[1].value),(0,b.c3)(i,void 0,(function(e){console.log(e)}),void 0,(function(){t(!o)}))}(e,0,K,$)}})}),(0,t.jsx)(Z.Z,{idRegistro:ce,modalActivo:Q,toggleModal:function(){W(!Q)},children:(0,t.jsx)(h,{registro:se,elementosOpciones:fe,toggleModal:function(){W(!Q)},onModificarRegistro:function(e,n){!function(e,n,o,t,i){var r=new FormData;r.append("descripcionReporte",e.target[0].value),r.append("idTipoReporteVinculado",e.target[1].value),(0,b.Et)(o,r,void 0,(function(e){console.log(e)}),void 0,(function(){i(!t)}))}(e,0,ce,K,$)}})}),(0,t.jsx)(v.Z,{idRegistro:ce,modalActivo:ee,toggleModal:function(){ne(!ee)},onOk:function(e){!function(e,n,o){(0,b.hX)(e,void 0,(function(e){console.log(e)}),void 0,(function(){o(!n)}))}(e,K,$)},children:(0,t.jsx)(m.Z,{tituloDisplay:"nose",registro:se,campos:[["id"],["descripcionReporte"],["idTipoReporteVinculado"],["fechaRegistroReporte"],["fechaModificacionReporte"]],nombresCampos:["ID","Descripcion","Tipo de reporte","Fecha de registro","Ultima modificacion"]})}),(0,t.jsx)(j,{parametrosBusqueda:je,elementosOpciones:fe})]})}function O(){return(0,t.jsx)(i.Fragment,{children:(0,t.jsx)(r.Z,{fluid:!0,children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(a.Z,{children:(0,t.jsx)(E,{})})})})})}O.getLayout=function(e){return(0,t.jsx)(u.Z,{children:e})}},35698:function(e,n,o){"use strict";o.d(n,{uK:function(){return d},uo:function(){return f},zm:function(){return l},Nd:function(){return p}});var t=o(29132),i=o(85556),r=o(89458),c=function(){var e=(0,t.Z)((function(e){return(0,i.__generator)(this,(function(n){return[2,r.b.TIPO_REPORTE.CONSULTA(e)]}))}));return function(n){return e.apply(this,arguments)}}(),a=function(){var e=(0,t.Z)((function(e){return(0,i.__generator)(this,(function(n){return[2,r.b.TIPO_REPORTE.REGISTRAR(e)]}))}));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)((function(e,n){return(0,i.__generator)(this,(function(o){return[2,r.b.TIPO_REPORTE.MODIFICAR(e,n)]}))}));return function(n,o){return e.apply(this,arguments)}}(),s=function(){var e=(0,t.Z)((function(e){return(0,i.__generator)(this,(function(n){return[2,r.b.TIPO_REPORTE.ELIMINAR(e)]}))}));return function(n){return e.apply(this,arguments)}}();function d(e,n,o,t,i){"undefined"!=typeof t&&t(),c(n).then((function(n){e(n.data)})).catch((function(e){"undefined"!=typeof o&&o(e)})).finally((function(){"undefined"!=typeof i&&i()}))}function l(e,n,o,t,i){"undefined"!=typeof t&&t(),a(e).then((function(e){"undefined"!=typeof n&&n(e.data)})).catch((function(e){"undefined"!=typeof o&&o(e)})).finally((function(){"undefined"!=typeof i&&i()}))}function f(e,n,o,t,i,r){var c={id:e};"undefined"!=typeof i&&i(),u(c,n).then((function(e){"undefined"!=typeof o&&o(e.data)})).catch((function(e){"undefined"!=typeof t&&t(e)})).finally((function(){"undefined"!=typeof r&&r()}))}function p(e,n,o,t,i){var r={id:e};"undefined"!=typeof t&&t(),s(r).then((function(e){"undefined"!=typeof n&&n(e.data)})).catch((function(e){"undefined"!=typeof o&&o(e)})).finally((function(){"undefined"!=typeof i&&i()}))}}},function(e){e.O(0,[9080,9556,7815,1798,2234,6062,6399,8023,924,5573,158,9774,2888,179],(function(){return n=60811,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6079],{27335:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/registros/listaReportesAccesos",function(){return t(87066)}])},87066:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return w}});var o=t(24246),i=(t(48697),t(27378)),r=t(30985),u=t(74246),a=t(27492),c=t(6947),d=t(2706),f=t(43532),s=t(43636),l=t(51838),p=t(10798),h=t(35979);function Z(n){return(0,o.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),n.onModificarRegistro(e),n.toggleModal()},children:[(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,o.jsx)(p.Z,{id:"idReporte",type:"select",defaultValue:n.registro.idReporteVinculado,children:n.elementosOpciones.listaReportes.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idEmpelado",children:"Empleado vinculado al reporte de actividad"}),(0,o.jsx)(p.Z,{id:"idEmpelado",type:"select",defaultValue:n.registro.idEmpleadoVinculado,children:n.elementosOpciones.listaEmpleados.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))})]}),(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idZona",children:"Zona vinculada al reporte"}),(0,o.jsx)(p.Z,{id:"idZona",type:"select",defaultValue:n.registro.idZonaVinculada,children:n.elementosOpciones.listaZonas.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombreZona})}))})]}),(0,o.jsx)(r.Z,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(a.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Guardar Cambios"})})]})})]})}function g(n){return(0,o.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),e.preventDefault(),n.onGuardarRegistro(e),n.toggleModal()},children:[(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,o.jsx)(p.Z,{id:"idReporte",type:"select",children:n.elementosOpciones.listaReportes.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idEmpelado",children:"Empleado vinculado al reporte de actividad"}),(0,o.jsx)(p.Z,{id:"idEmpelado",type:"select",children:n.elementosOpciones.listaEmpleados.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))})]}),(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idZona",children:"Zona vinculada al reporte"}),(0,o.jsx)(p.Z,{id:"idZona",type:"select",children:n.elementosOpciones.listaZonas.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombreZona})}))})]}),(0,o.jsx)(r.Z,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(a.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}function v(n){var e=(0,d.Z)(i.useState(""),2),t=e[0],c=e[1],f=(0,d.Z)(i.useState(""),2),s=f[0],l=f[1],h=(0,d.Z)(i.useState(""),2),Z=h[0],g=h[1];return i.useEffect((function(){n.parametrosBusqueda.setIdReporte(t)}),[t]),i.useEffect((function(){n.parametrosBusqueda.setIdEmpleado(Z)}),[Z]),i.useEffect((function(){n.parametrosBusqueda.setIdZona(s)}),[s]),(0,o.jsx)(r.Z,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(a.Z,{children:(0,o.jsx)(p.Z,{id:"idReporteAcceso",placeholder:"ID del reporte de acceso",type:"text",onChange:function(e){var t=null;e.target.value&&(t=parseInt(e.target.value)),n.parametrosBusqueda.setIdReporteAcceso(t)}})}),(0,o.jsx)(a.Z,{children:(0,o.jsxs)(p.Z,{id:"idReporte",type:"select",value:t,onChange:function(n){c(n.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Todos los reportes"}),n.elementosOpciones.listaReportes.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.descripcionReporte})}))]})}),(0,o.jsx)(a.Z,{children:(0,o.jsxs)(p.Z,{id:"idEmpelado",type:"select",value:Z,onChange:function(n){g(n.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Todos los empleados"}),n.elementosOpciones.listaEmpleados.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))]})}),(0,o.jsx)(a.Z,{children:(0,o.jsxs)(p.Z,{id:"idZona",type:"select",value:s,onChange:function(n){l(n.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Todas las zonas"}),n.elementosOpciones.listaZonas.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombreZona})}))]})})]})})}var y=t(38718),m=t(15174),R=t(59622),x=t(61914),E=t(86480),j=t(7863),O=t(4186),_=t(73181),A=t(73990),b=t(29132),S=t(85556),I=t(89458),C=function(){var n=(0,b.Z)((function(n){return(0,S.__generator)(this,(function(e){return[2,I.b.REPORTE_ACCESO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),M=function(){var n=(0,b.Z)((function(n){return(0,S.__generator)(this,(function(e){return[2,I.b.REPORTE_ACCESO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),D=function(){var n=(0,b.Z)((function(n,e){return(0,S.__generator)(this,(function(t){return[2,I.b.REPORTE_ACCESO.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),T=function(){var n=(0,b.Z)((function(n){return(0,S.__generator)(this,(function(e){return[2,I.b.REPORTE_ACCESO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}();function P(n,e,t,o,i){"undefined"!=typeof o&&o(),C(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}var V=function(n){return(0,j.jg)(n,[["id"],["idReporteVinculado"],["idEmpleadoVinculado"],["idZonaVinculada"],["fechaRegistroReporteAcceso"],["fechaModificacionReporteAceso"]],["id","indexRegistro"])},L=function(n,e,t){var o,i,r,u,a,c=new FormData;c.append("idReporteVinculado",n.target[0].value),c.append("idEmpleadoVinculado",n.target[1].value),c.append("idZonaVinculada",n.target[2].value),o=c,i=void 0,r=function(n){console.log(n)},a=function(){t(!e)},"undefined"!=typeof(u=void 0)&&u(),M(o).then((function(n){"undefined"!=typeof i&&i(n.data)})).catch((function(n){"undefined"!=typeof r&&r(n)})).finally((function(){"undefined"!=typeof a&&a()}))},N=function(n,e,t,o){var i=new FormData;i.append("idReporteVinculado",n.target[0].value),i.append("idEmpleadoVinculado",n.target[1].value),i.append("idZonaVinculada",n.target[2].value),function(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),D(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}(e,i,void 0,(function(n){console.log(n)}),void 0,(function(){o(!t)}))},k=function(n,e,t){!function(n,e,t,o,i){var r={id:n};"undefined"!=typeof o&&o(),T(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}(n,void 0,(function(n){console.log(n)}),void 0,(function(){t(!e)}))};function F(n){var e=(0,d.Z)(i.useState(!1),2),t=e[0],r=e[1],u=(0,d.Z)(i.useState([]),2),a=u[0],c=u[1],f=(0,d.Z)(i.useState(1),2),s=f[0],l=f[1],p=(0,d.Z)(i.useState(1),2),h=p[0],b=p[1],S=(0,d.Z)(i.useState(0),2),I=S[0],C=S[1],M=(0,d.Z)(i.useState(void 0),2),D=M[0],T=M[1],F=(0,d.Z)(i.useState(void 0),2),w=F[0],G=F[1],U=(0,d.Z)(i.useState(void 0),2),q=U[0],B=U[1],X=(0,d.Z)(i.useState(void 0),2),z=X[0],$=X[1],H=(0,d.Z)(i.useState(12),2),J=H[0],K=H[1],Q=(0,d.Z)(i.useState(!1),2),W=Q[0],Y=Q[1],nn=(0,d.Z)(i.useState(!0),2),en=nn[0],tn=nn[1],on=(0,d.Z)(i.useState(!1),2),rn=on[0],un=on[1],an=(0,d.Z)(i.useState(!1),2),cn=an[0],dn=an[1],fn=(0,d.Z)(i.useState(!1),2),sn=fn[0],ln=fn[1],pn=(0,d.Z)(i.useState(void 0),2),hn=pn[0],Zn=pn[1],gn=(0,d.Z)(i.useState(void 0),2),vn=gn[0],yn=gn[1],mn=(0,d.Z)(i.useState([]),2),Rn=mn[0],xn=mn[1],En=(0,d.Z)(i.useState([]),2),jn=En[0],On=En[1],_n=(0,d.Z)(i.useState([]),2),An=_n[0],bn=_n[1];i.useEffect((function(){console.log("refresh"),function(n,e,t,o){P((function(t){n(t.registros),e(Math.ceil(t.totalRegistros/o.limit))}),o,(function(n){console.log(n),t(!1)}),(function(){n([]),t(!0)}),void 0)}(c,l,r,{limit:J,offset:I,id:D,idReporteVinculado:w,idEmpleadoVinculado:q,idZonaVinculado:z}),function(n,e){(0,O.Sz)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}))}(xn,r),function(n,e){(0,_.EX)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}))}(On,r),function(n,e){(0,A.hF)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}),(function(){e(!1)}))}(bn,r)}),[J,h,D,w,q,z,en]);var Sn="Tabla de Reportes de accesos",In=["ID","ID de reporte vinculado","ID de empleado vinculado","ID de zona vinculada","Fecha de registro","Ultima modificacion"],Cn={onEliminar:function(n,e){Zn(n),yn(a[e]),dn(!cn)},onModificar:function(n,e){Zn(n),yn(a[e]),un(!rn)}},Mn={registrosPorPagina:J,opcionesRegistros:W,guardarConfiguracion:function(n){K(n.target[0].value?parseInt(n.target[0].value):0),Y(n.target[1].checked),b(1),C(0)}},Dn={onAgregarRegistro:function(){ln(!sn)},onRefrescarTabla:function(){tn(!en)},onExportarDatos:function(){console.log("datos exportados")},onCambiarConfiguracion:function(){console.log("configuracion cambiada")}},Tn={paginaActual:h,offset:I,registrosPorPagina:J,totalPaginas:s,setPaginaActual:b,setOffset:C},Pn={setIdReporteAcceso:T,setIdReporte:G,setIdEmpleado:B,setIdZona:$},Vn={listaReportes:Rn,listaEmpleados:jn,listaZonas:An};return(0,o.jsxs)(E.Z,{tituloTabla:Sn,cabeceras:In,registros:V(a),enCarga:t,setEnCarga:r,exportarDatos:function(n,e){!function(n,e,t,o){n?(0,j.R$)(e,t,V):P((function(n){(0,j.R$)(n.registros,t,V)}),{},(function(n){console.log(n),o(!1)}))}(n,e,In,r)},formatoEspecial:{"Fecha de registro":function(n){return n?n.replace("T"," ").slice(0,19):""},"Ultima modificacion":function(n){return n?n.replace("T"," ").slice(0,19):""}},funcionesOpciones:Dn,opcionesTabla:Mn,funcionesRegistros:Cn,paginacion:Tn,children:[(0,o.jsx)(m.Z,{nombreTabla:Sn,modalActivo:sn,toggleModal:function(){ln(!sn)},children:(0,o.jsx)(g,{elementosOpciones:Vn,toggleModal:function(){ln(!sn)},onGuardarRegistro:function(n){L(n,en,tn)}})}),(0,o.jsx)(y.Z,{idRegistro:hn,modalActivo:rn,toggleModal:function(){un(!rn)},children:(0,o.jsx)(Z,{registro:vn,elementosOpciones:Vn,toggleModal:function(){un(!rn)},onModificarRegistro:function(n){N(n,hn,en,tn)}})}),(0,o.jsx)(R.Z,{idRegistro:hn,modalActivo:cn,toggleModal:function(){dn(!cn)},onOk:function(n){k(n,en,tn)},children:(0,o.jsx)(x.Z,{tituloDisplay:"nose",registro:vn,campos:[["id"],["idReporteVinculado"],["idEmpleadoVinculado"],["idZonaVinculada"],["fechaRegistroReporteAcceso"],["fechaModificacionReporteAceso"]],nombresCampos:["ID","ID de reporte vinculado","ID de empleado vinculado","ID de zona vinculada","Fecha de registro","Ultima modificacion"]})}),(0,o.jsx)(v,{parametrosBusqueda:Pn,elementosOpciones:Vn})]})}function w(){return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(r.Z,{fluid:!0,children:(0,o.jsx)(u.Z,{children:(0,o.jsx)(a.Z,{children:(0,o.jsx)(F,{})})})})})}w.getLayout=function(n){return(0,o.jsx)(c.Z,{children:n})}},73181:function(n,e,t){"use strict";t.d(e,{EX:function(){return p},xw:function(){return y},Xi:function(){return Z},Ak:function(){return m},b9:function(){return h},v6:function(){return v},nV:function(){return g}});var o=t(29132),i=t(85556),r=t(89458),u=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),a=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,o.Z)((function(n,e){return(0,i.__generator)(this,(function(t){return[2,r.b.EMPLEADO.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.REGISTRAR_COMPLETO(n)]}))}));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.CONSULTA_COMPLETO(n)]}))}));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,o.Z)((function(n,e){return(0,i.__generator)(this,(function(t){return[2,r.b.EMPLEADO.MODIFICAR_COMPLETO(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}();function p(n,e,t,o,i){"undefined"!=typeof o&&o(),u(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function h(n,e,t,o,i){"undefined"!=typeof o&&o(),a(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function Z(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),c(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}function g(n,e,t,o,i){var r={id:n};"undefined"!=typeof o&&o(),d(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function v(n,e,t,o,i){"undefined"!=typeof o&&o(),f(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function y(n,e,t,o,i){"undefined"!=typeof o&&o(),s(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function m(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),l(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}},73990:function(n,e,t){"use strict";t.d(e,{hF:function(){return f},fu:function(){return p},DS:function(){return s},Mf:function(){return l}});var o=t(29132),i=t(85556),r=t(89458),u=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.ZONA.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),a=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.ZONA.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,o.Z)((function(n,e){return(0,i.__generator)(this,(function(t){return[2,r.b.ZONA.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.ZONA.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}();function f(n,e,t,o,i){"undefined"!=typeof o&&o(),u(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function s(n,e,t,o,i){"undefined"!=typeof o&&o(),a(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function l(n,e,t,o,i){var r={id:n};"undefined"!=typeof o&&o(),d(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function p(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),c(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}}},function(n){n.O(0,[9080,9556,7815,1798,2234,6062,6399,8023,924,5573,158,9774,2888,179],(function(){return e=27335,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
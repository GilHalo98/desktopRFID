(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2295],{21757:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/registros/listaReportesActividades",function(){return t(67407)}])},67407:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return w}});var i=t(24246),o=(t(48697),t(27378)),r=t(30985),u=t(74246),c=t(27492),a=t(6947),d=t(2706),f=t(43532),s=t(43636),l=t(51838),p=t(10798),h=t(35979);function v(n){return(0,i.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),n.onModificarRegistro(e),n.toggleModal()},children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,i.jsx)(p.Z,{id:"idReporte",type:"select",defaultValue:n.registro.idReporteVinculado,children:n.elementosOpciones.listaReportes.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{for:"idEmpelado",children:"Empleado vinculado al reporte de actividad"}),(0,i.jsx)(p.Z,{id:"idEmpelado",type:"select",defaultValue:n.registro.idEmpleadoVinculado,children:n.elementosOpciones.listaEmpleados.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))})]}),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{for:"idDispositivo",children:"Dispositivo vinculado al reporte de actividad"}),(0,i.jsx)(p.Z,{id:"idDispositivo",type:"select",defaultValue:n.registro.idDispositivoVinculado,children:n.elementosOpciones.listaDispositivos.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.descripcionDispositivo})}))})]}),(0,i.jsx)(r.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Guardar Cambios"})})]})})]})}function g(n){return(0,i.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),e.preventDefault(),n.onGuardarRegistro(e),n.toggleModal()},children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,i.jsx)(p.Z,{id:"idReporte",type:"select",children:n.elementosOpciones.listaReportes.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{for:"idEmpelado",children:"Empleado vinculado al reporte de actividad"}),(0,i.jsx)(p.Z,{id:"idEmpelado",type:"select",children:n.elementosOpciones.listaEmpleados.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))})]}),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Z,{for:"idDispositivo",children:"Dispositivo vinculado al reporte de actividad"}),(0,i.jsx)(p.Z,{id:"idDispositivo",type:"select",children:n.elementosOpciones.listaDispositivos.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.descripcionDispositivo})}))})]}),(0,i.jsx)(r.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}function y(n){var e=(0,d.Z)(o.useState(""),2),t=e[0],a=e[1],f=(0,d.Z)(o.useState(""),2),s=f[0],l=f[1],h=(0,d.Z)(o.useState(""),2),v=h[0],g=h[1];return o.useEffect((function(){n.parametrosBusqueda.setIdReporte(t)}),[t]),o.useEffect((function(){n.parametrosBusqueda.setIdEmpleado(v)}),[v]),o.useEffect((function(){n.parametrosBusqueda.setIdDispositivo(s)}),[s]),(0,i.jsx)(r.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)(p.Z,{id:"idReporteActividad",placeholder:"ID del reporte de actividad",type:"text",onChange:function(e){var t=null;e.target.value&&(t=parseInt(e.target.value)),n.parametrosBusqueda.setIdReporteActividad(t)}})}),(0,i.jsx)(c.Z,{children:(0,i.jsxs)(p.Z,{id:"idReporte",type:"select",value:t,onChange:function(n){a(n.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Todos los reportes"}),n.elementosOpciones.listaReportes.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.descripcionReporte})}))]})}),(0,i.jsx)(c.Z,{children:(0,i.jsxs)(p.Z,{id:"idEmpelado",type:"select",value:v,onChange:function(n){g(n.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Todos los empleados"}),n.elementosOpciones.listaEmpleados.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))]})}),(0,i.jsx)(c.Z,{children:(0,i.jsxs)(p.Z,{id:"idDispositivo",type:"select",value:s,onChange:function(n){l(n.target.value)},children:[(0,i.jsx)("option",{value:"",children:"Todos los dispositivos"}),n.elementosOpciones.listaDispositivos.map((function(n){return(0,i.jsx)("option",{value:n.id,children:n.descripcionDispositivo})}))]})})]})})}var Z=t(38718),m=t(15174),R=t(59622),x=t(61914),j=t(86480),E=t(7863),D=t(4186),I=t(73181),O=t(10031),_=t(29132),A=t(85556),S=t(89458),b=function(){var n=(0,_.Z)((function(n){return(0,A.__generator)(this,(function(e){return[2,S.b.REPORTE_ACTIVIDAD.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),T=function(){var n=(0,_.Z)((function(n){return(0,A.__generator)(this,(function(e){return[2,S.b.REPORTE_ACTIVIDAD.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),M=function(){var n=(0,_.Z)((function(n,e){return(0,A.__generator)(this,(function(t){return[2,S.b.REPORTE_ACTIVIDAD.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),C=function(){var n=(0,_.Z)((function(n){return(0,A.__generator)(this,(function(e){return[2,S.b.REPORTE_ACTIVIDAD.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}();function V(n,e,t,i,o){"undefined"!=typeof i&&i(),b(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}var P=function(n){return(0,E.jg)(n,[["id"],["idReporteVinculado"],["idEmpleadoVinculado"],["idDispositivoVinculado"],["fechaRegistroReporteActividad"],["fechaModificacionReporteActividad"]],["id","indexRegistro"])},L=function(n,e,t){var i,o,r,u,c,a=new FormData;a.append("idReporteVinculado",n.target[0].value),a.append("idEmpleadoVinculado",n.target[1].value),a.append("idDispositivoVinculado",n.target[2].value),i=a,o=void 0,r=function(n){console.log(n)},c=function(){t(!e)},"undefined"!=typeof(u=void 0)&&u(),T(i).then((function(n){"undefined"!=typeof o&&o(n.data)})).catch((function(n){"undefined"!=typeof r&&r(n)})).finally((function(){"undefined"!=typeof c&&c()}))},N=function(n,e,t,i){var o=new FormData;o.append("idReporteVinculado",n.target[0].value),o.append("idEmpleadoVinculado",n.target[1].value),o.append("idDispositivoVinculado",n.target[2].value),function(n,e,t,i,o,r){var u={id:n};"undefined"!=typeof o&&o(),M(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof r&&r()}))}(e,o,void 0,(function(n){console.log(n)}),void 0,(function(){i(!t)}))},k=function(n,e,t){!function(n,e,t,i,o){var r={id:n};"undefined"!=typeof i&&i(),C(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}(n,void 0,(function(n){console.log(n)}),void 0,(function(){t(!e)}))};function F(n){var e=(0,d.Z)(o.useState(!1),2),t=e[0],r=e[1],u=(0,d.Z)(o.useState([]),2),c=u[0],a=u[1],f=(0,d.Z)(o.useState(1),2),s=f[0],l=f[1],p=(0,d.Z)(o.useState(1),2),h=p[0],_=p[1],A=(0,d.Z)(o.useState(0),2),S=A[0],b=A[1],T=(0,d.Z)(o.useState(void 0),2),M=T[0],C=T[1],F=(0,d.Z)(o.useState(void 0),2),w=F[0],G=F[1],U=(0,d.Z)(o.useState(void 0),2),B=U[0],q=U[1],X=(0,d.Z)(o.useState(void 0),2),$=X[0],z=X[1],K=(0,d.Z)(o.useState(12),2),W=K[0],H=K[1],J=(0,d.Z)(o.useState(!1),2),Q=J[0],Y=J[1],nn=(0,d.Z)(o.useState(!0),2),en=nn[0],tn=nn[1],on=(0,d.Z)(o.useState(!1),2),rn=on[0],un=on[1],cn=(0,d.Z)(o.useState(!1),2),an=cn[0],dn=cn[1],fn=(0,d.Z)(o.useState(!1),2),sn=fn[0],ln=fn[1],pn=(0,d.Z)(o.useState(void 0),2),hn=pn[0],vn=pn[1],gn=(0,d.Z)(o.useState(void 0),2),yn=gn[0],Zn=gn[1],mn=(0,d.Z)(o.useState([]),2),Rn=mn[0],xn=mn[1],jn=(0,d.Z)(o.useState([]),2),En=jn[0],Dn=jn[1],In=(0,d.Z)(o.useState([]),2),On=In[0],_n=In[1];o.useEffect((function(){console.log("refresh"),function(n,e,t,i){V((function(t){n(t.registros),e(Math.ceil(t.totalRegistros/i.limit))}),i,(function(n){console.log(n),t(!1)}),(function(){n([]),t(!0)}),void 0)}(a,l,r,{limit:W,offset:S,id:M,idReporteVinculado:w,idEmpleadoVinculado:B,idDispositivoVinculado:$}),function(n,e){(0,D.Sz)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}))}(xn,r),function(n,e){(0,I.EX)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}))}(Dn,r),function(n,e){(0,O.O5)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}),(function(){e(!1)}))}(_n,r)}),[W,h,M,w,B,$,en]);var An="Tabla de Reportes de actividad",Sn=["ID","ID de reporte vinculado","ID de empleado vinculado","ID de dispositivo vinculado","Fecha de registro","Ultima modificacion"],bn={onEliminar:function(n,e){vn(n),Zn(c[e]),dn(!an)},onModificar:function(n,e){vn(n),Zn(c[e]),un(!rn)}},Tn={registrosPorPagina:W,opcionesRegistros:Q,guardarConfiguracion:function(n){H(n.target[0].value?parseInt(n.target[0].value):0),Y(n.target[1].checked),_(1),b(0)}},Mn={onAgregarRegistro:function(){ln(!sn)},onRefrescarTabla:function(){tn(!en)},onExportarDatos:function(){console.log("datos exportados")},onCambiarConfiguracion:function(){console.log("configuracion cambiada")}},Cn={paginaActual:h,offset:S,registrosPorPagina:W,totalPaginas:s,setPaginaActual:_,setOffset:b},Vn={setIdReporteActividad:C,setIdReporte:G,setIdEmpleado:q,setIdDispositivo:z},Pn={listaReportes:Rn,listaEmpleados:En,listaDispositivos:On};return(0,i.jsxs)(j.Z,{tituloTabla:An,cabeceras:Sn,registros:P(c),enCarga:t,setEnCarga:r,exportarDatos:function(n,e){!function(n,e,t,i){n?(0,E.R$)(e,t,P):V((function(n){(0,E.R$)(n.registros,t,P)}),{},(function(n){console.log(n),i(!1)}))}(n,e,Sn,r)},formatoEspecial:{"Fecha de registro":function(n){return n?n.replace("T"," ").slice(0,19):""},"Ultima modificacion":function(n){return n?n.replace("T"," ").slice(0,19):""}},funcionesOpciones:Mn,opcionesTabla:Tn,funcionesRegistros:bn,paginacion:Cn,children:[(0,i.jsx)(m.Z,{nombreTabla:An,modalActivo:sn,toggleModal:function(){ln(!sn)},children:(0,i.jsx)(g,{elementosOpciones:Pn,toggleModal:function(){ln(!sn)},onGuardarRegistro:function(n){L(n,en,tn)}})}),(0,i.jsx)(Z.Z,{idRegistro:hn,modalActivo:rn,toggleModal:function(){un(!rn)},children:(0,i.jsx)(v,{registro:yn,elementosOpciones:Pn,toggleModal:function(){un(!rn)},onModificarRegistro:function(n){N(n,hn,en,tn)}})}),(0,i.jsx)(R.Z,{idRegistro:hn,modalActivo:an,toggleModal:function(){dn(!an)},onOk:function(n){k(n,en,tn)},children:(0,i.jsx)(x.Z,{tituloDisplay:"nose",registro:yn,campos:[["id"],["idReporteVinculado"],["idEmpleadoVinculado"],["idDispositivoVinculado"],["fechaRegistroReporteActividad"],["fechaModificacionReporteActividad"]],nombresCampos:["ID","ID de reporte vinculado","ID de empleado vinculado","ID de dispositivo vinculado","Fecha de registro","Ultima modificacion"]})}),(0,i.jsx)(y,{parametrosBusqueda:Vn,elementosOpciones:Pn})]})}function w(){return(0,i.jsx)(o.Fragment,{children:(0,i.jsx)(r.Z,{fluid:!0,children:(0,i.jsx)(u.Z,{children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(F,{})})})})})}w.getLayout=function(n){return(0,i.jsx)(a.Z,{children:n})}},10031:function(n,e,t){"use strict";t.d(e,{O5:function(){return s},B2:function(){return v},C7:function(){return p},GW:function(){return l},h3:function(){return h}});var i=t(29132),o=t(85556),r=t(89458),u=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),a=function(){var n=(0,i.Z)((function(n,e){return(0,o.__generator)(this,(function(t){return[2,r.b.DISPOSITIVO.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.GENERAR_TOKEN(n)]}))}));return function(e){return n.apply(this,arguments)}}();function s(n,e,t,i,o){"undefined"!=typeof i&&i(),u(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function l(n,e,t,i,o){"undefined"!=typeof i&&i(),c(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function p(n,e,t,i,o,r){var u={id:n};"undefined"!=typeof o&&o(),a(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof r&&r()}))}function h(n,e,t,i,o){var r={id:n};"undefined"!=typeof i&&i(),d(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function v(n,e,t,i,o){var r={id:n};"undefined"!=typeof i&&i(),f(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}},73181:function(n,e,t){"use strict";t.d(e,{EX:function(){return p},xw:function(){return Z},Xi:function(){return v},Ak:function(){return m},b9:function(){return h},v6:function(){return y},nV:function(){return g}});var i=t(29132),o=t(85556),r=t(89458),u=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.EMPLEADO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.EMPLEADO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),a=function(){var n=(0,i.Z)((function(n,e){return(0,o.__generator)(this,(function(t){return[2,r.b.EMPLEADO.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.EMPLEADO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.EMPLEADO.REGISTRAR_COMPLETO(n)]}))}));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,i.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.EMPLEADO.CONSULTA_COMPLETO(n)]}))}));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,i.Z)((function(n,e){return(0,o.__generator)(this,(function(t){return[2,r.b.EMPLEADO.MODIFICAR_COMPLETO(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}();function p(n,e,t,i,o){"undefined"!=typeof i&&i(),u(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function h(n,e,t,i,o){"undefined"!=typeof i&&i(),c(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function v(n,e,t,i,o,r){var u={id:n};"undefined"!=typeof o&&o(),a(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof r&&r()}))}function g(n,e,t,i,o){var r={id:n};"undefined"!=typeof i&&i(),d(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function y(n,e,t,i,o){"undefined"!=typeof i&&i(),f(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function Z(n,e,t,i,o){"undefined"!=typeof i&&i(),s(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function m(n,e,t,i,o,r){var u={id:n};"undefined"!=typeof o&&o(),l(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof r&&r()}))}}},function(n){n.O(0,[9080,9556,7815,1798,2234,6062,6399,8023,924,5573,158,9774,2888,179],(function(){return e=21757,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
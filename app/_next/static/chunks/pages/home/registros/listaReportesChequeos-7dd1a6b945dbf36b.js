(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9519],{48317:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/registros/listaReportesChequeos",function(){return t(374)}])},374:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return N}});var o=t(24246),i=(t(48697),t(27378)),r=t(30985),u=t(74246),c=t(27492),a=t(6947),d=t(2706),f=t(43532),s=t(43636),l=t(51838),p=t(10798),h=t(35979);function g(n){return(0,o.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),n.onModificarRegistro(e),n.toggleModal()},children:[(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,o.jsx)(p.Z,{id:"idReporte",type:"select",defaultValue:n.registro.idReporteVinculado,children:n.elementosOpciones.listaReportes.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idEmpelado",children:"Empleado vinculado al reporte de actividad"}),(0,o.jsx)(p.Z,{id:"idEmpelado",type:"select",defaultValue:n.registro.idEmpleadoVinculado,children:n.elementosOpciones.listaEmpleados.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))})]}),(0,o.jsx)(r.Z,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Guardar Cambios"})})]})})]})}function v(n){return(0,o.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),e.preventDefault(),n.onGuardarRegistro(e),n.toggleModal()},children:[(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,o.jsx)(p.Z,{id:"idReporte",type:"select",children:n.elementosOpciones.listaReportes.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{for:"idEmpelado",children:"Empleado vinculado al reporte de actividad"}),(0,o.jsx)(p.Z,{id:"idEmpelado",type:"select",children:n.elementosOpciones.listaEmpleados.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))})]}),(0,o.jsx)(r.Z,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(h.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}function Z(n){var e=(0,d.Z)(i.useState(""),2),t=e[0],a=e[1],f=(0,d.Z)(i.useState(""),2),s=f[0],l=f[1];return i.useEffect((function(){n.parametrosBusqueda.setIdReporte(t)}),[t]),i.useEffect((function(){n.parametrosBusqueda.setIdEmpleado(s)}),[s]),(0,o.jsx)(r.Z,{children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(p.Z,{id:"idReporteChequeo",placeholder:"ID del reporte de chequeo",type:"text",onChange:function(e){var t=null;e.target.value&&(t=parseInt(e.target.value)),n.parametrosBusqueda.setIdReporteChequeo(t)}})}),(0,o.jsx)(c.Z,{children:(0,o.jsxs)(p.Z,{id:"idReporte",type:"select",value:t,onChange:function(n){a(n.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Todos los reportes"}),n.elementosOpciones.listaReportes.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.descripcionReporte})}))]})}),(0,o.jsx)(c.Z,{children:(0,o.jsxs)(p.Z,{id:"idEmpelado",type:"select",value:s,onChange:function(n){l(n.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Todos los empleados"}),n.elementosOpciones.listaEmpleados.map((function(n){return(0,o.jsx)("option",{value:n.id,children:n.nombres+" "+n.apellidoPaterno+" "+n.apellidoMaterno})}))]})})]})})}var y=t(38718),E=t(15174),m=t(59622),R=t(61914),x=t(86480),j=t(7863),O=t(4186),_=t(73181),C=t(29132),b=t(85556),M=t(89458),S=function(){var n=(0,C.Z)((function(n){return(0,b.__generator)(this,(function(e){return[2,M.b.REPORTE_CHEQUEO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),I=function(){var n=(0,C.Z)((function(n){return(0,b.__generator)(this,(function(e){return[2,M.b.REPORTE_CHEQUEO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),A=function(){var n=(0,C.Z)((function(n,e){return(0,b.__generator)(this,(function(t){return[2,M.b.REPORTE_CHEQUEO.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),D=function(){var n=(0,C.Z)((function(n){return(0,b.__generator)(this,(function(e){return[2,M.b.REPORTE_CHEQUEO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}();function P(n,e,t,o,i){"undefined"!=typeof o&&o(),S(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}var T=function(n){return(0,j.jg)(n,[["id"],["idReporteVinculado"],["idEmpleadoVinculado"],["fechaRegistroReporteChequeo"],["fechaModificacionReporteAceso"]],["id","indexRegistro"])},L=function(n,e,t){var o,i,r,u,c,a=new FormData;a.append("idReporteVinculado",n.target[0].value),a.append("idEmpleadoVinculado",n.target[1].value),o=a,i=void 0,r=function(n){console.log(n)},c=function(){t(!e)},"undefined"!=typeof(u=void 0)&&u(),I(o).then((function(n){"undefined"!=typeof i&&i(n.data)})).catch((function(n){"undefined"!=typeof r&&r(n)})).finally((function(){"undefined"!=typeof c&&c()}))},V=function(n,e,t,o){var i=new FormData;i.append("idReporteVinculado",n.target[0].value),i.append("idEmpleadoVinculado",n.target[1].value),function(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),A(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}(e,i,void 0,(function(n){console.log(n)}),void 0,(function(){o(!t)}))},k=function(n,e,t){!function(n,e,t,o,i){var r={id:n};"undefined"!=typeof o&&o(),D(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}(n,void 0,(function(n){console.log(n)}),void 0,(function(){t(!e)}))};function q(n){var e=(0,d.Z)(i.useState(!1),2),t=e[0],r=e[1],u=(0,d.Z)(i.useState([]),2),c=u[0],a=u[1],f=(0,d.Z)(i.useState(1),2),s=f[0],l=f[1],p=(0,d.Z)(i.useState(1),2),h=p[0],C=p[1],b=(0,d.Z)(i.useState(0),2),M=b[0],S=b[1],I=(0,d.Z)(i.useState(void 0),2),A=I[0],D=I[1],q=(0,d.Z)(i.useState(void 0),2),N=q[0],U=q[1],w=(0,d.Z)(i.useState(void 0),2),F=w[0],G=w[1],X=(0,d.Z)(i.useState(12),2),B=X[0],H=X[1],Q=(0,d.Z)(i.useState(!1),2),$=Q[0],z=Q[1],J=(0,d.Z)(i.useState(!0),2),K=J[0],W=J[1],Y=(0,d.Z)(i.useState(!1),2),nn=Y[0],en=Y[1],tn=(0,d.Z)(i.useState(!1),2),on=tn[0],rn=tn[1],un=(0,d.Z)(i.useState(!1),2),cn=un[0],an=un[1],dn=(0,d.Z)(i.useState(void 0),2),fn=dn[0],sn=dn[1],ln=(0,d.Z)(i.useState(void 0),2),pn=ln[0],hn=ln[1],gn=(0,d.Z)(i.useState([]),2),vn=gn[0],Zn=gn[1],yn=(0,d.Z)(i.useState([]),2),En=yn[0],mn=yn[1];i.useEffect((function(){console.log("refresh"),function(n,e,t,o){P((function(t){n(t.registros),e(Math.ceil(t.totalRegistros/o.limit))}),o,(function(n){console.log(n),t(!1)}),(function(){n([]),t(!0)}),void 0)}(a,l,r,{limit:B,offset:M,id:A,idReporteVinculado:N,idEmpleadoVinculado:F}),function(n,e){(0,O.Sz)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}))}(Zn,r),function(n,e){(0,_.EX)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}),(function(){e(!1)}))}(mn,r)}),[B,h,A,N,F,K]);var Rn="Tabla de Reportes de chequeos",xn=["ID","ID de reporte vinculado","ID de empleado vinculado","Fecha de registro","Ultima modificacion"],jn={onEliminar:function(n,e){sn(n),hn(c[e]),rn(!on)},onModificar:function(n,e){sn(n),hn(c[e]),en(!nn)}},On={registrosPorPagina:B,opcionesRegistros:$,guardarConfiguracion:function(n){H(n.target[0].value?parseInt(n.target[0].value):0),z(n.target[1].checked),C(1),S(0)}},_n={onAgregarRegistro:function(){an(!cn)},onRefrescarTabla:function(){W(!K)},onExportarDatos:function(){console.log("datos exportados")},onCambiarConfiguracion:function(){console.log("configuracion cambiada")}},Cn={paginaActual:h,offset:M,registrosPorPagina:B,totalPaginas:s,setPaginaActual:C,setOffset:S},bn={setIdReporteChequeo:D,setIdReporte:U,setIdEmpleado:G},Mn={listaReportes:vn,listaEmpleados:En};return(0,o.jsxs)(x.Z,{tituloTabla:Rn,cabeceras:xn,registros:T(c),enCarga:t,setEnCarga:r,exportarDatos:function(n,e){!function(n,e,t,o){n?(0,j.R$)(e,t,T):P((function(n){(0,j.R$)(n.registros,t,T)}),{},(function(n){console.log(n),o(!1)}))}(n,e,xn,r)},formatoEspecial:{"Fecha de registro":function(n){return n?n.replace("T"," ").slice(0,19):""},"Ultima modificacion":function(n){return n?n.replace("T"," ").slice(0,19):""}},funcionesOpciones:_n,opcionesTabla:On,funcionesRegistros:jn,paginacion:Cn,children:[(0,o.jsx)(E.Z,{nombreTabla:Rn,modalActivo:cn,toggleModal:function(){an(!cn)},children:(0,o.jsx)(v,{elementosOpciones:Mn,toggleModal:function(){an(!cn)},onGuardarRegistro:function(n){L(n,K,W)}})}),(0,o.jsx)(y.Z,{idRegistro:fn,modalActivo:nn,toggleModal:function(){en(!nn)},children:(0,o.jsx)(g,{registro:pn,elementosOpciones:Mn,toggleModal:function(){en(!nn)},onModificarRegistro:function(n){V(n,fn,K,W)}})}),(0,o.jsx)(m.Z,{idRegistro:fn,modalActivo:on,toggleModal:function(){rn(!on)},onOk:function(n){k(n,K,W)},children:(0,o.jsx)(R.Z,{tituloDisplay:"nose",registro:pn,campos:[["id"],["idReporteVinculado"],["idEmpleadoVinculado"],["fechaRegistroReporteChequeos"],["fechaModificacionReporteChequeos"]],nombresCampos:["ID","ID de reporte vinculado","ID de empleado vinculado","Fecha de registro","Ultima modificacion"]})}),(0,o.jsx)(Z,{parametrosBusqueda:bn,elementosOpciones:Mn})]})}function N(){return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(r.Z,{fluid:!0,children:(0,o.jsx)(u.Z,{children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(q,{})})})})})}N.getLayout=function(n){return(0,o.jsx)(a.Z,{children:n})}},73181:function(n,e,t){"use strict";t.d(e,{EX:function(){return p},xw:function(){return y},Xi:function(){return g},Ak:function(){return E},b9:function(){return h},v6:function(){return Z},nV:function(){return v}});var o=t(29132),i=t(85556),r=t(89458),u=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),a=function(){var n=(0,o.Z)((function(n,e){return(0,i.__generator)(this,(function(t){return[2,r.b.EMPLEADO.MODIFICAR(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.REGISTRAR_COMPLETO(n)]}))}));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,o.Z)((function(n){return(0,i.__generator)(this,(function(e){return[2,r.b.EMPLEADO.CONSULTA_COMPLETO(n)]}))}));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,o.Z)((function(n,e){return(0,i.__generator)(this,(function(t){return[2,r.b.EMPLEADO.MODIFICAR_COMPLETO(n,e)]}))}));return function(e,t){return n.apply(this,arguments)}}();function p(n,e,t,o,i){"undefined"!=typeof o&&o(),u(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function h(n,e,t,o,i){"undefined"!=typeof o&&o(),c(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function g(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),a(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}function v(n,e,t,o,i){var r={id:n};"undefined"!=typeof o&&o(),d(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function Z(n,e,t,o,i){"undefined"!=typeof o&&o(),f(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function y(n,e,t,o,i){"undefined"!=typeof o&&o(),s(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof i&&i()}))}function E(n,e,t,o,i,r){var u={id:n};"undefined"!=typeof i&&i(),l(u,e).then((function(n){"undefined"!=typeof t&&t(n.data)})).catch((function(n){"undefined"!=typeof o&&o(n)})).finally((function(){"undefined"!=typeof r&&r()}))}}},function(n){n.O(0,[9080,9556,7815,1798,2234,6062,6399,8023,924,5573,158,9774,2888,179],(function(){return e=48317,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
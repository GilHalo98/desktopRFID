(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9003],{49880:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/registros/listaReportesDispositivos",function(){return i(80339)}])},80339:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return F}});var t=i(24246),o=(i(48697),i(27378)),r=i(30985),u=i(74246),s=i(27492),c=i(6947),a=i(2706),d=i(43532),f=i(43636),l=i(51838),p=i(10798),v=i(35979);function h(n){return(0,t.jsxs)(d.Z,{onSubmit:function(e){e.preventDefault(),n.onModificarRegistro(e),n.toggleModal()},children:[(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,t.jsx)(p.Z,{id:"idReporte",type:"select",defaultValue:n.registro.idReporteVinculado,children:n.elementosOpciones.listaReportes.map((function(n){return(0,t.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(l.Z,{for:"idDispositivo",children:"Dispositivo vinculado al reporte del dispositivo"}),(0,t.jsx)(p.Z,{id:"idDispositivo",type:"select",defaultValue:n.registro.idDispositivoVinculado,children:n.elementosOpciones.listaDispositivos.map((function(n){return(0,t.jsx)("option",{value:n.id,children:n.descripcionDispositivo})}))})]}),(0,t.jsx)(r.Z,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{children:(0,t.jsx)(v.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,t.jsx)(s.Z,{children:(0,t.jsx)(v.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Guardar Cambios"})})]})})]})}function g(n){return(0,t.jsxs)(d.Z,{onSubmit:function(e){e.preventDefault(),e.preventDefault(),n.onGuardarRegistro(e),n.toggleModal()},children:[(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(l.Z,{for:"idReporte",children:"Reporte vinculado"}),(0,t.jsx)(p.Z,{id:"idReporte",type:"select",children:n.elementosOpciones.listaReportes.map((function(n){return(0,t.jsx)("option",{value:n.id,children:n.descripcionReporte})}))})]}),(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(l.Z,{for:"idDispositivo",children:"Dispositivo vinculado al reporte del dispositivo"}),(0,t.jsx)(p.Z,{id:"idDispositivo",type:"select",children:n.elementosOpciones.listaDispositivos.map((function(n){return(0,t.jsx)("option",{value:n.id,children:n.descripcionDispositivo})}))})]}),(0,t.jsx)(r.Z,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{children:(0,t.jsx)(v.Z,{active:!0,outline:!0,block:!0,onClick:function(){n.toggleModal()},children:"Cancelar"})}),(0,t.jsx)(s.Z,{children:(0,t.jsx)(v.Z,{active:!0,outline:!0,block:!0,color:"success",children:"Registrar"})})]})})]})}function Z(n){var e=(0,a.Z)(o.useState(""),2),i=e[0],c=e[1],d=(0,a.Z)(o.useState(""),2),f=d[0],l=d[1];return o.useEffect((function(){n.parametrosBusqueda.setIdReporte(i)}),[i]),o.useEffect((function(){n.parametrosBusqueda.setIdDispositivo(f)}),[f]),(0,t.jsx)(r.Z,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{children:(0,t.jsx)(p.Z,{id:"idReporteDispositivo",placeholder:"ID del reporte del dispositivo",type:"text",onChange:function(e){var i=null;e.target.value&&(i=parseInt(e.target.value)),n.parametrosBusqueda.setIdReporteDispositivo(i)}})}),(0,t.jsx)(s.Z,{children:(0,t.jsxs)(p.Z,{id:"idReporte",type:"select",value:i,onChange:function(n){c(n.target.value)},children:[(0,t.jsx)("option",{value:"",children:"Todos los reportes"}),n.elementosOpciones.listaReportes.map((function(n){return(0,t.jsx)("option",{value:n.id,children:n.descripcionReporte})}))]})}),(0,t.jsx)(s.Z,{children:(0,t.jsxs)(p.Z,{id:"idDispositivo",type:"select",value:f,onChange:function(n){l(n.target.value)},children:[(0,t.jsx)("option",{value:"",children:"Todos los dispositivos"}),n.elementosOpciones.listaDispositivos.map((function(n){return(0,t.jsx)("option",{value:n.id,children:n.descripcionDispositivo})}))]})})]})})}var R=i(38718),x=i(15174),y=i(59622),j=i(61914),D=i(86480),I=i(7863),m=i(4186),S=i(10031),O=i(29132),_=i(85556),T=i(89458),b=function(){var n=(0,O.Z)((function(n){return(0,_.__generator)(this,(function(e){return[2,T.b.REPORTE_DISPOSITIVO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),E=function(){var n=(0,O.Z)((function(n){return(0,_.__generator)(this,(function(e){return[2,T.b.REPORTE_DISPOSITIVO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),V=function(){var n=(0,O.Z)((function(n,e){return(0,_.__generator)(this,(function(i){return[2,T.b.REPORTE_DISPOSITIVO.MODIFICAR(n,e)]}))}));return function(e,i){return n.apply(this,arguments)}}(),C=function(){var n=(0,O.Z)((function(n){return(0,_.__generator)(this,(function(e){return[2,T.b.REPORTE_DISPOSITIVO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}();function P(n,e,i,t,o){"undefined"!=typeof t&&t(),b(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof o&&o()}))}var M=function(n){return(0,I.jg)(n,[["id"],["idReporteVinculado"],["idDispositivoVinculado"],["fechaRegistroReporteDispositivo"],["fechaModificacionReporteDispositivo"]],["id","indexRegistro"])},A=function(n,e,i){var t,o,r,u,s,c=new FormData;c.append("idReporteVinculado",n.target[0].value),c.append("idDispositivoVinculado",n.target[1].value),t=c,o=void 0,r=function(n){console.log(n)},s=function(){i(!e)},"undefined"!=typeof(u=void 0)&&u(),E(t).then((function(n){"undefined"!=typeof o&&o(n.data)})).catch((function(n){"undefined"!=typeof r&&r(n)})).finally((function(){"undefined"!=typeof s&&s()}))},k=function(n,e,i,t){var o=new FormData;o.append("idReporteVinculado",n.target[0].value),o.append("idDispositivoVinculado",n.target[1].value),function(n,e,i,t,o,r){var u={id:n};"undefined"!=typeof o&&o(),V(u,e).then((function(n){"undefined"!=typeof i&&i(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof r&&r()}))}(e,o,void 0,(function(n){console.log(n)}),void 0,(function(){t(!i)}))},N=function(n,e,i){!function(n,e,i,t,o){var r={id:n};"undefined"!=typeof t&&t(),C(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof o&&o()}))}(n,void 0,(function(n){console.log(n)}),void 0,(function(){i(!e)}))};function w(n){var e=(0,a.Z)(o.useState(!1),2),i=e[0],r=e[1],u=(0,a.Z)(o.useState([]),2),s=u[0],c=u[1],d=(0,a.Z)(o.useState(1),2),f=d[0],l=d[1],p=(0,a.Z)(o.useState(1),2),v=p[0],O=p[1],_=(0,a.Z)(o.useState(0),2),T=_[0],b=_[1],E=(0,a.Z)(o.useState(void 0),2),V=E[0],C=E[1],w=(0,a.Z)(o.useState(void 0),2),F=w[0],G=w[1],B=(0,a.Z)(o.useState(void 0),2),L=B[0],U=B[1],q=(0,a.Z)(o.useState(12),2),X=q[0],$=q[1],z=(0,a.Z)(o.useState(!1),2),K=z[0],W=z[1],H=(0,a.Z)(o.useState(!0),2),J=H[0],Q=H[1],Y=(0,a.Z)(o.useState(!1),2),nn=Y[0],en=Y[1],tn=(0,a.Z)(o.useState(!1),2),on=tn[0],rn=tn[1],un=(0,a.Z)(o.useState(!1),2),sn=un[0],cn=un[1],an=(0,a.Z)(o.useState(void 0),2),dn=an[0],fn=an[1],ln=(0,a.Z)(o.useState(void 0),2),pn=ln[0],vn=ln[1],hn=(0,a.Z)(o.useState([]),2),gn=hn[0],Zn=hn[1],Rn=(0,a.Z)(o.useState([]),2),xn=Rn[0],yn=Rn[1];o.useEffect((function(){console.log("refresh"),function(n,e,i,t){P((function(i){n(i.registros),e(Math.ceil(i.totalRegistros/t.limit))}),t,(function(n){console.log(n),i(!1)}),(function(){n([]),i(!0)}),void 0)}(c,l,r,{limit:X,offset:T,id:V,idReporteVinculado:F,idDispositivoVinculado:L}),function(n,e){(0,m.Sz)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}))}(Zn,r),function(n,e){(0,S.O5)((function(e){n(e.registros)}),void 0,(function(n){console.log(n),e(!1)}),(function(){n([]),e(!0)}),(function(){e(!1)}))}(yn,r)}),[X,v,V,F,L,J]);var jn="Tabla de Reportes de dispositivos",Dn=["ID","ID de reporte vinculado","ID de dispositivo vinculado","Fecha de registro","Ultima modificacion"],In={onEliminar:function(n,e){fn(n),vn(s[e]),rn(!on)},onModificar:function(n,e){fn(n),vn(s[e]),en(!nn)}},mn={registrosPorPagina:X,opcionesRegistros:K,guardarConfiguracion:function(n){$(n.target[0].value?parseInt(n.target[0].value):0),W(n.target[1].checked),O(1),b(0)}},Sn={onAgregarRegistro:function(){cn(!sn)},onRefrescarTabla:function(){Q(!J)},onExportarDatos:function(){console.log("datos exportados")},onCambiarConfiguracion:function(){console.log("configuracion cambiada")}},On={paginaActual:v,offset:T,registrosPorPagina:X,totalPaginas:f,setPaginaActual:O,setOffset:b},_n={setIdReporteDispositivo:C,setIdReporte:G,setIdDispositivo:U},Tn={listaReportes:gn,listaDispositivos:xn};return(0,t.jsxs)(D.Z,{tituloTabla:jn,cabeceras:Dn,registros:M(s),enCarga:i,setEnCarga:r,exportarDatos:function(n,e){!function(n,e,i,t){n?(0,I.R$)(e,i,M):P((function(n){(0,I.R$)(n.registros,i,M)}),{},(function(n){console.log(n),t(!1)}))}(n,e,Dn,r)},formatoEspecial:{"Fecha de registro":function(n){return n?n.replace("T"," ").slice(0,19):""},"Ultima modificacion":function(n){return n?n.replace("T"," ").slice(0,19):""}},funcionesOpciones:Sn,opcionesTabla:mn,funcionesRegistros:In,paginacion:On,children:[(0,t.jsx)(x.Z,{nombreTabla:jn,modalActivo:sn,toggleModal:function(){cn(!sn)},children:(0,t.jsx)(g,{elementosOpciones:Tn,toggleModal:function(){cn(!sn)},onGuardarRegistro:function(n){A(n,J,Q)}})}),(0,t.jsx)(R.Z,{idRegistro:dn,modalActivo:nn,toggleModal:function(){en(!nn)},children:(0,t.jsx)(h,{registro:pn,elementosOpciones:Tn,toggleModal:function(){en(!nn)},onModificarRegistro:function(n){k(n,dn,J,Q)}})}),(0,t.jsx)(y.Z,{idRegistro:dn,modalActivo:on,toggleModal:function(){rn(!on)},onOk:function(n){N(n,J,Q)},children:(0,t.jsx)(j.Z,{tituloDisplay:"nose",registro:pn,campos:[["id"],["idReporteVinculado"],["idDispositivoVinculado"],["fechaRegistroReporteDispositivo"],["fechaModificacionReporteDispositivo"]],nombresCampos:["ID","ID de reporte vinculado","ID de dispositivo vinculado","Fecha de registro","Ultima modificacion"]})}),(0,t.jsx)(Z,{parametrosBusqueda:_n,elementosOpciones:Tn})]})}function F(){return(0,t.jsx)(o.Fragment,{children:(0,t.jsx)(r.Z,{fluid:!0,children:(0,t.jsx)(u.Z,{children:(0,t.jsx)(s.Z,{children:(0,t.jsx)(w,{})})})})})}F.getLayout=function(n){return(0,t.jsx)(c.Z,{children:n})}},10031:function(n,e,i){"use strict";i.d(e,{O5:function(){return f},B2:function(){return h},C7:function(){return p},GW:function(){return l},h3:function(){return v}});var t=i(29132),o=i(85556),r=i(89458),u=function(){var n=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.CONSULTA(n)]}))}));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.REGISTRAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,t.Z)((function(n,e){return(0,o.__generator)(this,(function(i){return[2,r.b.DISPOSITIVO.MODIFICAR(n,e)]}))}));return function(e,i){return n.apply(this,arguments)}}(),a=function(){var n=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.ELIMINAR(n)]}))}));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){return[2,r.b.DISPOSITIVO.GENERAR_TOKEN(n)]}))}));return function(e){return n.apply(this,arguments)}}();function f(n,e,i,t,o){"undefined"!=typeof t&&t(),u(e).then((function(e){n(e.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function l(n,e,i,t,o){"undefined"!=typeof t&&t(),s(n).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function p(n,e,i,t,o,r){var u={id:n};"undefined"!=typeof o&&o(),c(u,e).then((function(n){"undefined"!=typeof i&&i(n.data)})).catch((function(n){"undefined"!=typeof t&&t(n)})).finally((function(){"undefined"!=typeof r&&r()}))}function v(n,e,i,t,o){var r={id:n};"undefined"!=typeof t&&t(),a(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof o&&o()}))}function h(n,e,i,t,o){var r={id:n};"undefined"!=typeof t&&t(),d(r).then((function(n){"undefined"!=typeof e&&e(n.data)})).catch((function(n){"undefined"!=typeof i&&i(n)})).finally((function(){"undefined"!=typeof o&&o()}))}}},function(n){n.O(0,[9080,9556,7815,1798,2234,6062,6399,8023,924,5573,158,9774,2888,179],(function(){return e=49880,n(n.s=e);var e}));var e=n.O();_N_E=e}]);